!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).blobs=e()}(this,function(){"use strict";function i(t){var e,r,n,i,a=function(t){for(var e=2166136261,r=0;r<t.length;r++)e=Math.imul(e^t.charCodeAt(r),16777619);return function(){return e+=e<<13,e^=e>>>7,e+=e<<3,e^=e>>>17,(e+=e<<5)>>>0}}(t);return e=a(),r=a(),n=a(),i=a(),function(){var t=(e>>>=0)+(r>>>=0)|0;return e=r^r>>>9,r=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(t=t+(i=1+(i>>>=0)|0)|0)|0,(t>>>0)/4294967296}}function a(t){return{x:t.x,y:t.y,handleIn:e({},t.handleIn),handleOut:e({},t.handleOut)}}function h(r,n){for(var t=function(t){function e(t){return a(r[u(t,r.length)])}n({curr:a(r[t]),index:t,sibling:e,prev:function(){return e(t-1)},next:function(){return e(t+1)}})},e=0;e<r.length;e++)t(e)}function o(t,e){var r=[];return h(t,function(t){r.push(e(t))}),r}function f(t,e){return{x:t.x+e.length*Math.cos(e.angle),y:t.y+e.length*Math.sin(e.angle)}}function l(t,l){return o(t,function(t){var e,r,n,i,a,o=t.curr,s=t.next,u=t.prev,h=(e=u(),r=s(),n=r.x-e.x,i=-r.y+e.y,(a=Math.atan2(i,n))<0?Math.abs(a):2*Math.PI-a);return{x:o.x,y:o.y,handleIn:{angle:h+Math.PI,length:l*c(o,u())},handleOut:{angle:h,length:l*c(o,s())}}})}function s(t,e){var r=e.stroke||(e.guides?"black":"none"),n=e.strokeWidth||(e.guides?1:0),i=new b("svg");i.attributes.width=e.width,i.attributes.height=e.height,i.attributes.viewBox="0 0 "+e.width+" "+e.height,i.attributes.xmlns="http://www.w3.org/2000/svg";var l=new b("g");l.attributes.transform=e.transform||"";var a,o,s=new b("path");if(s.attributes.stroke=r,s.attributes["stroke-width"]=n,s.attributes.fill=e.fill||"none",s.attributes.d=(o="M"+(a=t)[0].x+","+a[0].y,h(a,function(t){var e=t.curr,r=(0,t.next)(),n=f(e,e.handleOut),i=f(r,r.handleIn);o+="C"+n.x+","+n.y+","+i.x+","+i.y+","+r.x+","+r.y}),o),l.children.push(s),i.children.push(l),e.guides){var c=e.stroke||"black",d=e.strokeWidth||1;if(e.boundingBox){var u=new b("rect");u.attributes.x=0,u.attributes.y=0,u.attributes.width=e.width,u.attributes.height=e.height,u.attributes.fill="none",u.attributes.stroke=c,u.attributes["stroke-width"]=2*d,u.attributes["stroke-dasharray"]=2*d,l.children.push(u)}h(t,function(t){var e=t.curr,r=(0,t.next)(),n=f(e,e.handleOut),i=f(r,r.handleIn),a=new b("line");a.attributes.x1=e.x,a.attributes.y1=e.y,a.attributes.x2=n.x,a.attributes.y2=n.y,a.attributes["stroke-width"]=d,a.attributes.stroke=c;var o=new b("line");o.attributes.x1=r.x,o.attributes.y1=r.y,o.attributes.x2=i.x,o.attributes.y2=i.y,o.attributes["stroke-width"]=d,o.attributes.stroke=c,o.attributes["stroke-dasharray"]=2*d;var s=new b("circle");s.attributes.cx=n.x,s.attributes.cy=n.y,s.attributes.r=d,s.attributes.fill=c;var u=new b("circle");u.attributes.cx=i.x,u.attributes.cy=i.y,u.attributes.r=d,u.attributes.fill=c;var h=new b("circle");h.attributes.cx=e.x,h.attributes.cy=e.y,h.attributes.r=2*d,h.attributes.fill=c,l.children.push(a),l.children.push(o),l.children.push(s),l.children.push(u),l.children.push(h)})}return i}var e=function(){return(e=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},u=function(t,e){return(t%e+e)%e},c=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},b=(t.prototype.render=function(){var t=this.renderAttributes(),e=this.renderChildren();return""===e?"<"+this.tag+t+"/>":"<"+this.tag+t+">"+e+"</"+this.tag+">"},t.prototype.renderAttributes=function(){var t=Object.keys(this.attributes);if(0===t.length)return"";for(var e="",r=0,n=t;r<n.length;r++){var i=n[r];e+=" "+i+'="'+this.attributes[i]+'"'}return e},t.prototype.renderChildren=function(){for(var t="",e=0,r=this.children;e<r.length;e++)t+=r[e].render();return t},t);function t(t){this.tag=t,this.attributes={},this.children=[]}new Function("try {return this===window;}catch(e){ return false;}")()&&"localhost"!==location.hostname&&"127.0.0.1"!==location.hostname&&"file:"!==location.protocol||console.warn("You are using the legacy blobs API!\nPlease use 'blobs/v2' instead.");var r=function(t){return r.editable(t).render()};return r.editable=function(r){if(!r)throw new Error("no options specified");var t=i(r.seed||String(Math.random()));if(!r.size)throw new Error("no size specified");if(!r.stroke&&!r.color)throw new Error("no color or stroke specified");if(r.complexity<=0||1<r.complexity)throw new Error("complexity out of range ]0,1]");if(r.contrast<0||1<r.contrast)throw new Error("contrast out of range [0,1]");var e=3+Math.floor(14*r.complexity),n=o(function(t,e){for(var r=2*Math.PI/t,n=[],i=0;i<t;i++){var a=e(),o=Math.sin(i*r),s=Math.cos(i*r);n.push({x:.5+o*a,y:.5+s*a,handleIn:{angle:0,length:0},handleOut:{angle:0,length:0}})}var u=4/3*Math.tan(r/4)/Math.sin(r/2)/2;return l(n,u)}(e,function(){return(1-.8*r.contrast*t())/Math.E}),function(t){var e=t.curr;return e.x*=r.size,e.y*=r.size,e.handleIn.length*=r.size,e.handleOut.length*=r.size,e.y=r.size-e.y,e.handleIn.angle*=-1,e.handleOut.angle*=-1,e});return s(n,{closed:!0,width:r.size,height:r.size,fill:r.color,transform:"rotate("+t()*(360/e)+","+r.size/2+","+r.size/2+")",stroke:r.stroke&&r.stroke.color,strokeWidth:r.stroke&&r.stroke.width,guides:r.guides})},r.xml=function(t){return new b(t)},r});
//# sourceMappingURL=index.js.map
